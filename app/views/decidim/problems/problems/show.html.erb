<%= stylesheet_link_tag "decidim/sdgs/ods" %>
<%= stylesheet_link_tag "decidim/problems/problems" %>

<div class="row column">
  <div class="row">

    <div class="columns section view-side mediumlarge-4 mediumlarge-push-8 large-3 large-push-9">

      <div class="card extra">
        <div class="card__content">
          <%= render partial: "decidim/shared/follow_button",
                    locals: { followable: current_participatory_space, large: false } %>
        </div>
      </div>

      <div class="card extra definition-data">

        <div class="definition-data__item status">
          <span class="definition-data__title"><%= t("status", scope: "activemodel.attributes.problem") %></span>
          <%= t(@problem.state, scope: "decidim.problems.states") %>
        </div>

        <div class="definition-data__item area_id">
          <span class="definition-data__title"><%= t("scope", scope: "activemodel.attributes.problem") %></span>
          <%= present(@problem).decidim_scope_id %>
        </div>

        <div class="definition-data__item coord_entity">
          <span
            class="definition-data__title"><%= t("coord_entity", scope: "activemodel.attributes.challenge") %></span>
          <%= present(@problem).challenge.coordinating_entities %>
        </div>

        <div class="definition-data__item col_entity">
          <span class="definition-data__title"><%= t("col_entity", scope: "activemodel.attributes.problem") %></span>
          <%= present(@problem).collaborating_entities %>
        </div>

        <div class="definition-data__item causes">
          <span class="definition-data__title"><%= t("causes", scope: "activemodel.attributes.problem") %></span>
          <%= present(@problem).causes %>
        </div>

        <div class="definition-data__item groups_affected">
          <span class="definition-data__title"><%= t("groups_affected", scope: "activemodel.attributes.problem") %></span>
          <%= present(@problem).groups_affected %>
        </div>

        <div class="definition-data__item sdg">
          <span class="definition-data__title"><%= t("sdg", scope: "activemodel.attributes.problem") %></span>
          <%= @sdg %><br/>
          <div class="ods">
              <div class="text-container show">
                  <p><%= t("no_poverty.logo.line1", scope: "decidim.components.sdgs") %></p>
                  <p><%= t("no_poverty.logo.line2", scope: "decidim.components.sdgs") %></p>
              </div>
              <img alt="Logo ODS <%= @sdg_index %>"
                src="/assets/decidim/sdgs/ods-<%= @sdg_index %>.svg" class="problem--view">
          </div>
        </div>
        </div>

      <%= resource_reference(current_participatory_space) %>
      <%= render partial: "decidim/shared/share_modal" %>
  </div>

  <div class="columns mediumlarge-8 mediumlarge-pull-4">

    <%= link_to :problems, class: "small hollow" do %>
      <%= icon "chevron-left", class: "icon--small", role: "img", "aria-hidden": true %>
      <%= t("return_to_list", scope: "decidim.problems.show") %>
    <% end %>
      <div class="section">
        <h2 class="heading2"><strong><%= present(@problem).title %></strong></h2><br />

        <h3><strong><%= t("description", scope: "activemodel.attributes.problem") %></strong></h3>
        <p><%= present(@problem).description %></p>

        <h3><strong><%= t("tags", scope: "activemodel.attributes.problem") %></strong></h3>
        <p class="tags"><%= present(@problem).tags %></p>

        <h3><strong><% t("proposed_solutions", scope: "decidim.problems.show") %></strong></h3>
        <%# TODO: when solutions cards are realased %>
        <div class="row small-up-1 medium-up-2 card-grid">

          <div class="column">
          </div>

        </div>

      </div>
  </div>
</div>
</div>
