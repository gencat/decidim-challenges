<%= stylesheet_link_tag "decidim/challenges/challenges" %>
<%= stylesheet_link_tag "decidim/sdgs/ods" %>

<div class="row column">
  <div class="row">

    <div class="columns section view-side mediumlarge-4 mediumlarge-push-8 large-3 large-push-9">

      <div class="card extra">
        <div class="card__content">
          <%= render partial: "decidim/shared/follow_button",
                    locals: { followable: current_participatory_space, large: false } %>
        </div>
      </div>

      <div class="card extra definition-data">

        <div class="definition-data__item status">
          <span class="definition-data__title"><%= t("status", scope: "activemodel.attributes.challenge") %></span>
          <%= t(@challenge.state, scope: "decidim.challenges.states") %>
        </div>

        <div class="definition-data__item area_id">
          <span class="definition-data__title"><%= t("scope", scope: "activemodel.attributes.challenge") %></span>
          <%= present(@challenge).decidim_scope_id %>
        </div>

        <div class="definition-data__item coord_entity">
          <span
            class="definition-data__title"><%= t("coord_entity", scope: "activemodel.attributes.challenge") %></span>
          <%= present(@challenge).coordinating_entities %>
        </div>

        <div class="definition-data__item col_entity">
          <span class="definition-data__title"><%= t("col_entity", scope: "activemodel.attributes.challenge") %></span>
          <%= present(@challenge).collaborating_entities %>
        </div>

        <div class="definition-data__item sdg">
          <span class="definition-data__title"><%= t("sdg", scope: "activemodel.attributes.challenge") %></span>
          <%= @sdg %><br/>
          <div class="ods">
              <div class="text-container show">
                  <p><%= t("no_poverty.logo.line1", scope: "decidim.components.sdgs") %></p>
                  <p><%= t("no_poverty.logo.line2", scope: "decidim.components.sdgs") %></p>
              </div>
              <img alt="Logo ODS <%= (present(@challenge).sdg + 1).to_s.rjust(2, '0') %>"
                src="/assets/decidim/sdgs/ods-<%= (present(@challenge).sdg + 1).to_s.rjust(2, '0') %>.svg">
          </div>
        </div>
        </div>

      <%= resource_reference(current_participatory_space) %>
      <%= render partial: "decidim/shared/share_modal" %>
      <!-- embed_modal_for participatory_process_participatory_process_widget_url(current_participatory_space, format: :js)  -->

  </div>

  <div class="columns mediumlarge-8 mediumlarge-pull-4">
  
    <%= link_to :challenges, class: "small hollow" do %>
      <%= icon "chevron-left", class: "icon--small", role: "img", "aria-hidden": true %>
      <%= t("return_to_list", scope: "decidim.challenges.show") %>
    <% end %>
      <div class="section">
        <h2 class="heading2"><strong><%= present(@challenge).title %></strong></h2><br />

        <h3><strong><%= t("local_description", scope: "activemodel.attributes.challenge") %></strong></h3>
        <p><%= present(@challenge).local_description %></p>

        <h3><strong><%= t("global_description", scope: "activemodel.attributes.challenge") %></strong></h3>
        <p><%= present(@challenge).global_description %></p>

        <h3><strong><%= t("tags", scope: "activemodel.attributes.challenge") %></strong></h3>
        <p class="tags"><%= present(@challenge).tags %></p>

        <h3><strong><% t("associated_problems", scope: "decidim.challenges.show") %></strong></h3>
        <%# TODO: when problems cards are realased %>
        <div class="row small-up-1 medium-up-2 card-grid">

          <div class="column">
          </div>
        </div>

        <h3><strong><% t("proposed_solutions", scope: "decidim.challenges.show") %></strong></h3>
        <%# TODO: when solutions cards are realased %>
        <div class="row small-up-1 medium-up-2 card-grid">

          <div class="column">
          </div>

        </div>

      </div>
  </div>
</div>
</div>